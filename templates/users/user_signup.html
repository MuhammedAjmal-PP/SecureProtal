{% extends "users/user_base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block title %}
  Create Account
{% endblock title %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/users/user_login-style.css' %}" />
{% endblock extra_css %}
{% block content %}
  <style>.navbar { display: none; }</style>
  <div class="login-container d-flex justify-content-center align-items-center">
    <div class="login-card p-4 p-md-5 shadow-lg rounded-3">
      <div class="text-center mb-4">
        <h1 class="brand-logo mb-1">SecurePortal</h1>
        <p class="text-muted">Create your secure account</p>
      </div>
      <form method="post" class="auth-form">
        {% csrf_token %}
        {% if form.non_field_errors %}
          <div class="alert alert-danger" role="alert">
            {% for error in form.non_field_errors %}{{ error }}{% endfor %}
          </div>
        {% endif %}
        {% for field in form %}
          <div class="mb-3">
            <div class="input-group input-group-lg">
              <span class="input-group-text">
                {% if field.name == 'username' or field.name == 'email' %}
                  <i class="fas fa-user"></i>
                {% elif field.name == 'first_name' or field.name == 'last_name' %}
                  <i class="fas fa-signature"></i>
                {% elif field.name == 'password' or field.name == 'password2' %}
                  <i class="fas fa-lock"></i>
                {% else %}
                  <i class="fas fa-edit"></i>
                {% endif %}
              </span>
              {{ field }}
            </div>
            {% for error in field.errors %}<small class="text-danger d-block mt-1">{{ error }}</small>{% endfor %}
            {% if field.help_text %}<small class="form-text text-muted">{{ field.help_text|safe }}</small>{% endif %}
          </div>
        {% endfor %}
        <div class="form-check mb-4">
          <input class="form-check-input" type="checkbox" id="terms" required />
          <label class="form-check-label text-muted small" for="terms">
            I agree to the
            <a href="terms.html" class="forgot-link">Terms of Service</a> and
            <a href="privacy.html" class="forgot-link">Privacy Policy</a>.
          </label>
        </div>
        <button type="submit" class="btn btn-login w-100 btn-lg mb-3 shadow">
          <i class="fas fa-user-plus me-2"></i> Create Account
        </button>
      </form>
      <p class="text-center mt-3 text-muted">
        Already have an account?
        <a href="{% url 'login' %}" class="text-decoration-none signup-link">Log In</a>
      </p>
    </div>
  </div>
{% endblock content %}
